"use strict";(self["webpackChunkmoire"]=self["webpackChunkmoire"]||[]).push([[468],{4312:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _helpers_numberFormat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(73736);__webpack_exports__.Z={name:"CounterProduct",props:{count:{type:Number,require:!0},amount:Number,minValue:{type:Number,require:!1,default:1}},emits:["update:count"],computed:{countValue:{get(){return this.count},set(t){this.updateCount(t)}}},methods:{updateCount(value){(void 0===value||isNaN(value)&&value.toString()!==eval(value).toString()||value<=this.minValue-1)&&(this.$refs.input.value=this.minValue,value=this.minValue),this.$emit("update:count",value)},numberFormat:_helpers_numberFormat__WEBPACK_IMPORTED_MODULE_0__.Z}}},46164:function(t,e,r){r.d(e,{Z:function(){return i}});var a=r(73396),u=r(87139);const o={class:"flex items-center flex-wrap"};function s(t,e,r,s,l,n){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("ul",o,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.breadcrumbs,((t,e)=>((0,a.wg)(),(0,a.iD)("li",{key:e,class:"breadcrumbs__item"},[(0,a.Wm)(c,{to:{name:t.routerName},class:(0,u.C_)([{"pointer-events-none":t.cursorNone},"breadcrumbs__link"])},{default:(0,a.w5)((()=>[(0,a.Uk)((0,u.zw)(t.titlePage),1)])),_:2},1032,["to","class"])])))),128))])}var l={name:"BreadCrumbs",props:{breadcrumbs:{type:Array,require:!0}}},n=r(40089);const c=(0,n.Z)(l,[["render",s]]);var i=c},5729:function(t,e,r){r.d(e,{Z:function(){return h}});var a=r(73396),u=r(49242),o=r(87139);const s={class:"flex justify-start items-center flex-wrap"},l={class:"flex items-center w-[150px] h-[70px] mr-5"},n=(0,a._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-minus"})],-1),c=[n],i=(0,a._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-plus"})],-1),d=[i],m={class:"price-counter"};function b(t,e,r,n,i,b){return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",l,[(0,a._)("button",{onClick:e[0]||(e[0]=(0,u.iM)((t=>b.updateCount(b.countValue-1)),["prevent"])),class:(0,o.C_)([{"button-disabled":r.count==r.minValue},"btn-round"]),type:"button","aria-label":"Убрать один товар"},c,2),(0,a._)("form",{onSubmit:e[2]||(e[2]=(0,u.iM)((t=>b.updateCount()),["prevent"]))},[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>b.countValue=t),ref:"input",class:"couter-input"},null,512),[[u.nr,b.countValue,void 0,{number:!0}]])],32),(0,a._)("button",{onClick:e[3]||(e[3]=(0,u.iM)((t=>b.updateCount(b.countValue+1)),["prevent"])),class:"btn-round",type:"button","aria-label":"Добавить один товар"},d)]),(0,a._)("b",m,(0,o.zw)(b.numberFormat(r.amount))+" ₽ ",1)])}var p=r(4312),_=r(40089);const k=(0,_.Z)(p.Z,[["render",b]]);var h=k},40468:function(t,e,r){r.r(e),r.d(e,{default:function(){return W}});var a=r(73396),u=r(87139);const o={class:"mb-9"},s={class:"flex items-center"},l=(0,a._)("h1",{class:"title-main"},"Корзина",-1),n={class:"product-count"},c={class:"grid grid-cols-1 gap-y-14 lg:grid-cols-layout-cart lg:gap-x-10 lx:gap-x-12",method:"POST"},i={key:0},d={class:"w-full py-7 px-5 mob:w-[370px] lg:w-[340px] xl:w-[370px] h-[fit-content] lg:py-7 lg:px-5 xl:py-9 xl:px-8 border border-dedede"},m=(0,a._)("p",{class:"mb-4"}," Мы посчитаем стоимость доставки на следующем этапе ",-1),b={class:"mb-9 text-3xl leading-[48px]"},p={class:"font-medium text-[34px]"},_=["onClick"];function k(t,e,r,k,h,g){const w=(0,a.up)("BaseBreadcrumbs"),P=(0,a.up)("BasketItem"),f=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",o,[(0,a.Wm)(w,{breadcrumbs:g.breadcrumbsData},null,8,["breadcrumbs"]),(0,a._)("div",s,[l,(0,a._)("span",n,(0,u.zw)(t.basketTotalItems)+" "+(0,u.zw)(g.pluralRules(t.basketTotalItems,["товар","товара","товаров"])),1)])]),(0,a._)("section",null,[(0,a._)("form",c,[t.basketProductsData?((0,a.wg)(),(0,a.iD)("ul",i,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.basketProductsData,(t=>((0,a.wg)(),(0,a.j4)(P,{key:t.id,basketProductData:t},null,8,["basketProductData"])))),128))])):(0,a.kq)("",!0),(0,a._)("div",d,[m,(0,a._)("p",b,[(0,a.Uk)(" Итого: "),(0,a._)("span",p,(0,u.zw)(g.numberFormat(t.basketTotalAmount))+" ₽",1)]),(0,a.Wm)(f,{custom:"",to:{name:"order"}},{default:(0,a.w5)((({navigate:e})=>[(0,a._)("button",{onClick:e,class:(0,u.C_)([{"button-disabled":0==t.basketTotalItems},"w-full bg-alarm button-style button-primary"]),type:"submit"}," Оформить заказ ",10,_)])),_:1})])])])],64)}var h=r(46164),g=r(49242);const w={class:"cart-item product"},P={class:"w-[120px] h-[120px]"},f=["src","alt"],v={class:"flex flex-col h-full col-start-2 col-span-4 sm:col-auto"},x={class:"mb-auto"},D={class:"flex items-center mb-4"},C=(0,a._)("p",{class:"mr-2 text-sm leading-none text-neutral-500"},"Цвет:",-1),y={class:"text-sm leading-none text-primary"},B={class:"text-xs text-b9b9b9"},V=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-auto h-auto"},[(0,a._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),Z=[V];function I(t,e,r,o,s,l){const n=(0,a.up)("FormCounterProduct");return(0,a.wg)(),(0,a.iD)("li",w,[(0,a._)("div",P,[(0,a._)("img",{src:l.getGalleryImageUrl(),alt:r.basketProductData.product.title},null,8,f)]),(0,a._)("div",v,[(0,a._)("h3",x,(0,u.zw)(r.basketProductData.product.title),1),(0,a._)("div",D,[C,(0,a._)("i",{class:"mr-2 block w-5 h-5 rounded-full",style:(0,u.j5)({backgroundColor:r.basketProductData.color.color.code})},null,4),(0,a._)("span",y,(0,u.zw)(r.basketProductData.color.color.title),1)]),(0,a._)("span",B," Артикул: "+(0,u.zw)(r.basketProductData.id),1)]),(0,a.Wm)(n,{count:l.currentProductCountValue,"onUpdate:count":e[0]||(e[0]=t=>l.currentProductCountValue=t),amount:l.currentProductAmount,class:"col-start-1 col-span-4 sm:col-auto title-base"},null,8,["count","amount"]),(0,a._)("button",{onClick:e[1]||(e[1]=(0,g.iM)(((...t)=>l.doDeleteProductBasket&&l.doDeleteProductBasket(...t)),["prevent"])),class:"button-del",type:"button","aria-label":"Удалить товар из корзины"},Z)])}var M=r(5729),N=r(73736),U=r(20065),F={name:"BasketItem",components:{FormCounterProduct:M.Z},props:{basketProductData:Object},data(){return{currentProductCount:this.basketProductData.quantity}},computed:{currentProductCountValue:{get(){return this.currentProductCount},set(t){this.currentProductCount=t,this.doUpdateBasket()}},currentProductAmount(){return this.basketProductData.price*this.currentProductCountValue}},methods:{...(0,U.nv)(["updateBasket","deleteProductBasket"]),doUpdateBasket(){const t={productId:this.basketProductData.id,count:this.currentProductCountValue};this.updateBasket(t)},doDeleteProductBasket(){const t={productId:this.basketProductData.id};this.deleteProductBasket(t)},getGalleryImageUrl(){return this.basketProductData.color&&this.basketProductData.color.gallery&&this.basketProductData.color.gallery[0]&&this.basketProductData.color.gallery[0].file&&this.basketProductData.color.gallery[0].file.url?this.basketProductData.color.gallery[0].file.url:""},numberFormat:N.Z}},T=r(40089);const z=(0,T.Z)(F,[["render",I]]);var q=z,A=r(11172),E={name:"CartView",components:{BaseBreadcrumbs:h.Z,BasketItem:q},computed:{...(0,U.rn)(["basketProductsData"]),...(0,U.Se)(["basketTotalAmount","basketTotalItems"]),breadcrumbsData(){return[{titlePage:"Каталог",routerName:"home"},{titlePage:"Корзина",routerName:"",cursorNone:!0}]}},methods:{numberFormat:N.Z,pluralRules:A.Z}};const O=(0,T.Z)(E,[["render",k]]);var W=O}}]);
//# sourceMappingURL=468.566225ee.js.map