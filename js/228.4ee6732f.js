"use strict";(self["webpackChunkmoire"]=self["webpackChunkmoire"]||[]).push([[228],{4312:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _helpers_numberFormat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(73736);__webpack_exports__.Z={name:"CounterProduct",props:{count:{type:Number,require:!0},amount:Number,minValue:{type:Number,require:!1,default:1}},emits:["update:count"],computed:{countValue:{get(){return this.count},set(t){this.updateCount(t)}}},methods:{updateCount(value){(void 0===value||isNaN(value)&&value.toString()!==eval(value).toString()||value<=this.minValue-1)&&(this.$refs.input.value=this.minValue,value=this.minValue),this.$emit("update:count",value)},numberFormat:_helpers_numberFormat__WEBPACK_IMPORTED_MODULE_0__.Z}}},46164:function(t,e,r){r.d(e,{Z:function(){return i}});var u=r(73396),a=r(87139);const o={class:"flex items-center flex-wrap"};function l(t,e,r,l,n,c){const s=(0,u.up)("router-link");return(0,u.wg)(),(0,u.iD)("ul",o,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(r.breadcrumbs,((t,e)=>((0,u.wg)(),(0,u.iD)("li",{key:e,class:"breadcrumbs__item"},[(0,u.Wm)(s,{to:{name:t.routerName},class:(0,a.C_)([{"pointer-events-none":t.cursorNone},"breadcrumbs__link"])},{default:(0,u.w5)((()=>[(0,u.Uk)((0,a.zw)(t.titlePage),1)])),_:2},1032,["to","class"])])))),128))])}var n={name:"BreadCrumbs",props:{breadcrumbs:{type:Array,require:!0}}},c=r(40089);const s=(0,c.Z)(n,[["render",l]]);var i=s},5729:function(t,e,r){r.d(e,{Z:function(){return g}});var u=r(73396),a=r(49242),o=r(87139);const l={class:"flex justify-start items-center flex-wrap"},n={class:"flex items-center w-[150px] h-[70px] mr-5"},c=(0,u._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,u._)("use",{"xlink:href":"#icon-minus"})],-1),s=[c],i=(0,u._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,u._)("use",{"xlink:href":"#icon-plus"})],-1),d=[i],p={class:"price-counter"};function m(t,e,r,c,i,m){return(0,u.wg)(),(0,u.iD)("div",l,[(0,u._)("div",n,[(0,u._)("button",{onClick:e[0]||(e[0]=(0,a.iM)((t=>m.updateCount(m.countValue-1)),["prevent"])),class:(0,o.C_)([{"button-disabled":r.count==r.minValue},"btn-round"]),type:"button","aria-label":"Убрать один товар"},s,2),(0,u._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)((t=>m.updateCount()),["prevent"]))},[(0,u.wy)((0,u._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>m.countValue=t),ref:"input",class:"couter-input"},null,512),[[a.nr,m.countValue,void 0,{number:!0}]])],32),(0,u._)("button",{onClick:e[3]||(e[3]=(0,a.iM)((t=>m.updateCount(m.countValue+1)),["prevent"])),class:"btn-round",type:"button","aria-label":"Добавить один товар"},d)]),(0,u._)("b",p,(0,o.zw)(m.numberFormat(r.amount))+" ₽ ",1)])}var _=r(4312),b=r(40089);const h=(0,b.Z)(_.Z,[["render",m]]);var g=h},96228:function(t,e,r){r.r(e),r.d(e,{default:function(){return Y}});var u=r(73396),a=r(87139),o=r(49242);const l={key:0,class:"mb-9"},n={key:1,class:"grid gap-7 items-start"},c={class:"mb-5"},s=["src","alt"],i={class:"grid grid-cols-5 gap-5"},d={href:"#",class:"pics__link pics__link--current"},p=["src","alt"],m={href:"#",class:"pics__link"},_=["src","alt"],b={class:"text-sm leading-none text-secondary"},h={class:"title-h2 mt-3 mb-5"},g={class:"flex justify-start items-start mb-9"},P={class:"form__block mr-5"},f=(0,u._)("legend",{class:"form-legend"},"Цвет",-1),C={class:"form__block"},D=(0,u._)("legend",{class:"form-legend"},"Размер",-1),w={class:"block w-24"},v=(0,u._)("button",{class:"min-w-[200px] button-style button-primary bg-alarm",type:"submit"}," В корзину ",-1);function y(t,e,r,y,k,V){const T=(0,u.up)("BaseBreadcrumbs"),x=(0,u.up)("FormCounterProduct"),S=(0,u.up)("FormSelectColors"),L=(0,u.up)("FormSelect"),I=(0,u.up)("BaseTabs"),B=(0,u.up)("LayoutPreloader"),z=(0,u.up)("LayoutModal");return(0,u.wg)(),(0,u.iD)(u.HY,null,[t.productData?((0,u.wg)(),(0,u.iD)("div",l,[(0,u.Wm)(T,{breadcrumbs:V.breadcrumbsData},null,8,["breadcrumbs"])])):(0,u.kq)("",!0),t.productData?((0,u.wg)(),(0,u.iD)("section",n,[(0,u._)("div",null,[(0,u._)("div",c,[(0,u._)("img",{class:"w-[570px] h-[570px]",src:V.getGalleryImageUrl(),alt:t.productData.title},null,8,s)]),(0,u._)("ul",i,[(0,u._)("li",null,[(0,u._)("a",d,[(0,u._)("img",{class:"w-[98px] h-[98px]",src:V.getGalleryImageUrl(),alt:t.productData.title},null,8,p)])]),(0,u._)("li",null,[(0,u._)("a",m,[(0,u._)("img",{class:"w-[98px] h-[98px]",src:V.getGalleryImageUrl(),alt:t.productData.title},null,8,_)])])])]),(0,u._)("div",null,[(0,u._)("span",b,"Артикул: "+(0,a.zw)(t.productData.id),1),(0,u._)("h2",h,(0,a.zw)(t.productData.title),1),(0,u._)("div",null,[(0,u._)("form",{onSubmit:e[3]||(e[3]=(0,o.iM)(((...t)=>V.doAddProductToBasket&&V.doAddProductToBasket(...t)),["prevent"])),class:""},[(0,u.Wm)(x,{count:V.currentProductCountValue,"onUpdate:count":e[0]||(e[0]=t=>V.currentProductCountValue=t),amount:t.currentProductAmount,class:"mb-3"},null,8,["count","amount"]),(0,u._)("div",g,[(0,u._)("fieldset",P,[f,(0,u.Wm)(S,{colorsData:t.productData.colors,currentColorNumber:V.currentProductColorValue,"onUpdate:currentColorNumber":e[1]||(e[1]=t=>V.currentProductColorValue=t)},null,8,["colorsData","currentColorNumber"])]),(0,u._)("fieldset",C,[D,(0,u._)("label",w,[(0,u.Wm)(L,{categoriesData:t.productData.sizes,selectedItem:V.currentProductSizeValue,"onUpdate:selectedItem":e[2]||(e[2]=t=>V.currentProductSizeValue=t),class:"form-input-style h-9 py-[6px] pr-6 pl-3"},null,8,["categoriesData","selectedItem"])])])]),v],32)])]),(0,u.Wm)(I,{infoData:k.currentProductInfoData},null,8,["infoData"])])):(0,u.kq)("",!0),(0,u.Wm)(z,{open:k.isProductLoading},{default:(0,u.w5)((()=>[(0,u.Wm)(B)])),_:1},8,["open"])],64)}var k=r(20065),V=r(78399),T=r(46164);const x={class:"md:col-span-2"},S={class:"flex items-center border-b border-secondary/60"},L=["onKeydown"],I=["value"],B={class:""},z={class:"mb-[6px] title-h3"},Z=["innerHTML"];function N(t,e,r,l,n,c){return(0,u.wg)(),(0,u.iD)("div",x,[(0,u._)("form",null,[(0,u._)("ul",S,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(r.infoData,((t,r)=>((0,u.wg)(),(0,u.iD)("li",{key:r,class:"tabs__item"},[(0,u._)("label",{onKeydown:[(0,o.D2)((t=>c.handleTabEnter(r)),["enter"]),(0,o.D2)((t=>c.handleTabSpace(r)),["space"])],class:(0,a.C_)([{"tabs__btn--current":r==n.selectedTab},"tabs__btn"]),tabindex:"0"},[(0,u.wy)((0,u._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>c.selectedTabValue=t),value:r,ref_for:!0,ref:"selected",class:"select-colors__input sr-only",type:"radio"},null,8,I),[[o.G2,c.selectedTabValue]]),(0,u._)("span",B,(0,a.zw)(t.title),1)],42,L)])))),128))])]),(0,u._)("ul",null,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(r.infoData,((t,e)=>((0,u.wg)(),(0,u.iD)("li",{key:e,class:(0,a.C_)([{hidden:e!=n.selectedTab},"pt-12"])},[(0,u._)("ul",null,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(t.content,((t,e)=>((0,u.wg)(),(0,u.iD)("li",{key:e},[(0,u._)("h3",z,(0,a.zw)(t.subtitle),1),(0,u._)("p",{class:"mb-5 font-light leading-7",innerHTML:c.insertLineBreaks(t.info)},null,8,Z)])))),128))])],2)))),128))])])}var F={name:"baseTabs",props:{infoData:Array},data(){return{selectedTab:0}},computed:{selectedTabValue:{get(){return this.selectedTab},set(t){this.updatedSelectedTab(t)}}},methods:{updatedSelectedTab(t){this.selectedTab=t},handleTabEnter(t){this.$refs.selected[t].click()},handleTabSpace(t){this.handleTabEnter(t)},insertLineBreaks(t){return t.replace(/;/g,"<br>")}}},M=r(40089);const U=(0,M.Z)(F,[["render",N]]);var W=U,A=r(5729),E=r(43788),K=r(60786),q=r(22165),H=r(55179),G={name:"ProductView",components:{FormSelectColors:K.Z,FormSelect:E.Z,BaseBreadcrumbs:T.Z,FormCounterProduct:A.Z,LayoutModal:q.Z,LayoutPreloader:H.Z,BaseTabs:W},data(){return{isProductLoading:!1,isProductLoadingFailed:!1,currentProductInfoData:[]}},computed:{...(0,k.rn)(["productData"]),...(0,k.Se)(["currentProductCount","currentProductAmount","currentProductColor","currentProductSize"]),currentProductCountValue:{get(){return this.currentProductCount},set(t){this.updateCurrentProductCount(t)}},currentProductColorValue:{get(){return this.currentProductColor},set(t){this.updateCurrentProductColor(t)}},currentProductSizeValue:{get(){return this.currentProductSize},set(t){this.updateCurrentProductSize(t)}},breadcrumbsData(){return[{titlePage:"Каталог",routerName:"home"},{titlePage:this.productData.category.title,routerName:""},{titlePage:this.productData.title,routerName:"",cursorNone:!0}]}},methods:{...(0,k.nv)(["loadProductData","addProductToBasket"]),...(0,k.OI)(["updateCurrentProductId","updateCurrentProductCount","updateCurrentProductPrice","updateCurrentProductColor","updateCurrentProductSize"]),doLoadingProductData(){this.isProductLoading=!0,this.isProductLoadingFailed=!1,this.loadProductData().then((()=>this.isProductLoading=!1)).catch((()=>this.isProductLoadingFailed=!0)).then((()=>{this.isProductLoading=!1,this.updateCurrentProductPrice(this.productData.price),this.getCurrentProductInfoData(this.productData.content),this.updateCurrentProductCount(1),this.updateCurrentProductColor(0),this.updateCurrentProductSize(0)}))},getGalleryImageUrl(){return this.productData.colors&&this.productData.colors[this.currentProductColorValue]&&this.productData.colors[this.currentProductColorValue].gallery&&this.productData.colors[this.currentProductColorValue].gallery[0]&&this.productData.colors[this.currentProductColorValue].gallery[0].file&&this.productData.colors[this.currentProductColorValue].gallery[0].file.url?this.productData.colors[this.currentProductColorValue].gallery[0].file.url:""},getCurrentProductInfoData(t){this.currentProductInfoData=t||V.pd},doAddProductToBasket(){this.addProductToBasket()}},created(){this.updateCurrentProductId(this.$route.params.id),this.doLoadingProductData()}};const O=(0,M.Z)(G,[["render",y]]);var Y=O}}]);
//# sourceMappingURL=228.4ee6732f.js.map